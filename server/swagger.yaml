openapi: 3.0.0

info:
  title: Tài liệu API của website ToiMuaSach
  description: |
    API này được sử dụng cho team dev để phát triển hệ thống.
    Không được để lộ API dưới mọi hình thức.
    
    _Hệ thống này được xây dựng bởi Dương Hiếu._
  contact:
    name: Dương Hiếu
    email: 1914745@dlu.edu.vn
    url: https://github.com/DuongHieu0712z
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  version: 0.0.9
  
servers:
  # Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/DuongHieu0712z/ToiMuaSach/0.0.9
  - description: Development API server
    url: http://localhost:5000/api/v1
  - description: Production API server
    url: https://api.toimuasach.click/api/v1
    
tags:
  - name: Quản lý danh mục
    description: |
      Sử dụng để quản lý danh mục, dành cho phân hệ quản trị
  - name: Quản lý sách
    description: |
      Sử dụng để quản lý sách, dành cho phân hệ quản trị
  - name: Quản lý hóa đơn
    description: |
      Sử dụng để quản lý hóa đơn, dành cho phân hệ quản trị
  - name: Quản lý quyền
    description: |
      Sử dụng để quản lý quyền và vai trò của người dùng quản trị, dành cho phân hệ quản trị
  - name: Quản lý người dùng
    description: |
      Sử dụng để quản lý người dùng, dành cho phân hệ quản trị
  - name: Tài khoản
    description: |
      Sử dụng để quản lý tài khoản của người dùng, các vấn đề liên quan đến tài khoản và xác thực người dùng
  - name: Sản phẩm
    description: |
      Sử dụng để lấy sản phẩm, dành cho phân hệ khách hàng
  - name: Bình luận
    description: |
      Sử dụng để lấy bình luận sản phẩm, dành cho phân hệ khách hàng
  - name: Quản lý giỏ hàng
    description: |
      Sử dụng để quản lý giỏ hàng, dành cho phân hệ khách hàng 
  - name: Quản lý đơn hàng
    description: |
      Sử dụng để quản lý đơn hàng, dành cho phân hệ khách hàng
  - name: Quản lý địa chỉ
    description: |
      Sử dụng để quản lý sổ địa chỉ giao hàng, dành cho phân hệ khách hàng
  - name: Quản lý sách yêu thích
    description: |
      Sử dụng để quản lý sách yêu thích, dành cho phân hệ khách hàng
    
paths:
  /categories:
    get:
      tags:
      - Quản lý danh mục
      summary: Sử dụng để lấy danh sách danh mục
      description: |
        Lấy danh sách danh mục theo trang và giới hạn số lượng lấy.
        Nếu không có trang hoặc giới hạn số lượng thì sẽ trả về tất cả danh mục.
      security: 
      - BearerAuth: []
      parameters:
      - in: query
        name: tree
        description: Hiển thị dạng cây
        schema:
          type: boolean
        example: false
      - in: query
        name: page
        description: Trang
        schema:
          type: number
        example: 1
      - in: query
        name: limit
        description: Giới hạn số document trả về
        schema:
          type: number
        example: 12
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.pagination.Category'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    post:
      tags:
      - Quản lý danh mục
      summary: Sử dụng để thêm danh mục mới
      description: |
        Thêm danh mục mới.
      security: 
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admin.form.Category'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/admin.form.Category'
      responses:
        201:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.Category'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /categories/{id}:
    get:
      tags:
      - Quản lý danh mục
      summary: Sử dụng để lấy danh mục
      description: |
        Lấy danh mục theo ID danh mục cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID danh mục
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634d8da516d1688abe54d4ef
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.Category'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    
    put:
      tags:
      - Quản lý danh mục
      summary: Sử dụng để sửa thông tin danh mục
      description: |
        Sửa thông tin danh mục theo ID danh mục cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID danh mục
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634d8da516d1688abe54d4ef
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admin.form.Category'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/admin.form.Category'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.Category'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
    delete:
      tags:
      - Quản lý danh mục
      summary: Sử dụng để xóa danh mục
      description: |
        Xóa danh mục theo ID danh mục cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID danh mục
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634d8da516d1688abe54d4ef
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /books:
    get:
      tags:
      - Quản lý sách
      summary: Sử dụng để lấy danh sách sách
      description: |
        Lấy danh sách sách theo trang và giới hạn số lượng lấy.
        Nếu không có trang hoặc giới hạn số lượng thì sẽ trả về tất cả sách.
      security: 
      - BearerAuth: []
      parameters:
      - in: query
        name: page
        description: Trang
        schema:
          type: number
        example: 1
      - in: query
        name: limit
        description: Giới hạn số document trả về
        schema:
          type: number
        example: 12
      - in: query
        name: status
        description: Trạng thái sách
        schema:
          type: string
          enum: 
          - coming_soon
          - available
          - out_of_stock
          - completed
          - canceled
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.pagination.Book'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    post:
      tags:
      - Quản lý sách
      summary: Sử dụng để thêm sách mới
      description: |
        Thêm sách mới.
      security: 
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admin.form.Book'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/admin.form.Book'
      responses:
        201:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.Book'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  
  /books/upload:
    post:
      tags:
      - Quản lý sách
      summary: Sử dụng để tải lên hình ảnh sách
      description: |
        Tải hình ảnh sách lên nền tảng lưu trữ đám mây.
      security: 
      - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/form.UploadImages'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  paths:
                    type: array
                    items:
                      type: string
                      format: link
                    description: Link hình ảnh
                    example:
                    - https://example.com/example1.png
                    - https://example.com/example2.png
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  
  /books/destroy:
    post:
      tags:
      - Quản lý sách
      summary: Sử dụng để xóa hình ảnh sách
      description: |
        Xóa hình ảnh sách trên nền tảng lưu trữ đám mây.
      security: 
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/form.DestroyImages'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/form.DestroyImages'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /books/{id}:
    get:
      tags:
      - Quản lý sách
      summary: Sử dụng để lấy sách
      description: |
        Lấy sách theo ID sách cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID sách
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634ed8e4f6a3a7266d992614
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.Book'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    
    put:
      tags:
      - Quản lý sách
      summary: Sử dụng để sửa thông tin sách
      description: |
        Sửa thông tin sách theo ID sách cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID sách
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634ed8e4f6a3a7266d992614
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admin.form.Book'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/admin.form.Book'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.Book'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
    delete:
      tags:
      - Quản lý sách
      summary: Sử dụng để xóa sách
      description: |
        Xóa sách theo ID sách cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID sách
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634ed8e4f6a3a7266d992614
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /orders:
    get:
      tags:
      - Quản lý hóa đơn
      summary: Sử dụng để lấy danh sách hóa đơn
      description: |
        Lấy danh sách hóa đơn theo trang và giới hạn số lượng lấy.
        Nếu không có trang hoặc giới hạn số lượng thì sẽ trả về tất cả hóa đơn.
      security: 
      - BearerAuth: []
      parameters:
      - in: query
        name: page
        description: Trang
        schema:
          type: number
        example: 1
      - in: query
        name: limit
        description: Giới hạn số document trả về
        schema:
          type: number
        example: 12
      - in: query
        name: status
        description: Trạng thái đơn hàng
        schema:
          type: string
          enum: 
          - not_processed
          - processing
          - shipping
          - completed
          - canceled
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.pagination.Order'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /orders/{id}:
    get:
      tags:
      - Quản lý hóa đơn
      summary: Sử dụng để lấy hóa đơn
      description: |
        Lấy hóa đơn theo ID hóa đơn cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID hóa đơn
        schema:
          type: string
          format: ObjectId
        required: true
        example: 637cc21ce94542c1056e6c68
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.Order'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    
    put:
      tags:
      - Quản lý hóa đơn
      summary: Sử dụng để sửa thông tin hóa đơn
      description: |
        Sửa thông tin hóa đơn theo ID hóa đơn cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID hóa đơn
        schema:
          type: string
          format: ObjectId
        required: true
        example: 637cc21ce94542c1056e6c68
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admin.form.Order'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/admin.form.Order'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.Order'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
    delete:
      tags:
      - Quản lý hóa đơn
      summary: Sử dụng để xóa hóa đơn
      description: |
        Xóa hóa đơn theo ID hóa đơn cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID hóa đơn
        schema:
          type: string
          format: ObjectId
        required: true
        example: 637cc21ce94542c1056e6c68
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /roles:
    get:
      tags:
      - Quản lý quyền
      summary: Sử dụng để lấy danh sách vai trò
      description: |
        Lấy danh sách vai trò theo trang và giới hạn số lượng lấy.
        Nếu không có trang hoặc giới hạn số lượng thì sẽ trả về tất cả vai trò.
      security: 
      - BearerAuth: []
      parameters:
      - in: query
        name: page
        description: Trang
        schema:
          type: number
        example: 1
      - in: query
        name: limit
        description: Giới hạn số document trả về
        schema:
          type: number
        example: 12
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.pagination.Role'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    post:
      tags:
      - Quản lý quyền
      summary: Sử dụng để thêm vai trò mới
      description: |
        Thêm vai trò mới.
      security: 
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admin.form.Role'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/admin.form.Role'
      responses:
        201:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.Role'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /roles/{id}:
    get:
      tags:
      - Quản lý quyền
      summary: Sử dụng để lấy vai trò
      description: |
        Lấy vai trò theo ID vai trò cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID vai trò
        schema:
          type: string
          format: ObjectId
        required: true
        example: 638c76f64700d09a7fde9be3
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.Role'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    
    put:
      tags:
      - Quản lý quyền
      summary: Sử dụng để sửa thông tin vai trò
      description: |
        Sửa thông tin vai trò theo ID vai trò cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID vai trò
        schema:
          type: string
          format: ObjectId
        required: true
        example: 638c76f64700d09a7fde9be3
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admin.form.Role'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/admin.form.Role'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.Role'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
    delete:
      tags:
      - Quản lý quyền
      summary: Sử dụng để xóa vai trò
      description: |
        Xóa vai trò theo ID vai trò cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID vai trò
        schema:
          type: string
          format: ObjectId
        required: true
        example: 638c76f64700d09a7fde9be3
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /permissions:
    get:
      tags:
      - Quản lý quyền
      summary: Sử dụng để lấy danh sách quyền
      description: |
        Lấy danh sách quyền theo trang và giới hạn số lượng lấy.
        Nếu không có trang hoặc giới hạn số lượng thì sẽ trả về tất cả quyền.
      security: 
      - BearerAuth: []
      parameters:
      - in: query
        name: page
        description: Trang
        schema:
          type: number
        example: 1
      - in: query
        name: limit
        description: Giới hạn số document trả về
        schema:
          type: number
        example: 12
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.pagination.Permission'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  
  /users:
    get:
      tags:
      - Quản lý người dùng
      summary: Sử dụng để lấy danh sách người dùng
      description: |
        Lấy danh sách người dùng theo trang và giới hạn số lượng lấy.
        Nếu không có trang hoặc giới hạn số lượng thì sẽ trả về tất cả người dùng.
      security: 
      - BearerAuth: []
      parameters:
      - in: query
        name: page
        description: Trang
        schema:
          type: number
        example: 1
      - in: query
        name: limit
        description: Giới hạn số document trả về
        schema:
          type: number
        example: 12
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.pagination.User'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  
  /users/admin:
    get:
      tags:
      - Quản lý người dùng
      summary: Sử dụng để lấy danh sách người quản trị
      description: |
        Lấy danh sách người quản trị theo trang và giới hạn số lượng lấy.
        Nếu không có trang hoặc giới hạn số lượng thì sẽ trả về tất cả người quản trị.
      security: 
      - BearerAuth: []
      parameters:
      - in: query
        name: page
        description: Trang
        schema:
          type: number
        example: 1
      - in: query
        name: limit
        description: Giới hạn số document trả về
        schema:
          type: number
        example: 12
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.pagination.User'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    post:
      tags:
      - Quản lý người dùng
      summary: Sử dụng để thêm người quản trị mới
      description: |
        Thêm người quản trị mới.
      security: 
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admin.form.User'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/admin.form.User'
      responses:
        201:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.pagination.User'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  
  /users/customer:
    get:
      tags:
      - Quản lý người dùng
      summary: Sử dụng để lấy danh sách khách hàng
      description: |
        Lấy danh sách khách hàng theo trang và giới hạn số lượng lấy.
        Nếu không có trang hoặc giới hạn số lượng thì sẽ trả về tất cả khách hàng.
      security: 
      - BearerAuth: []
      parameters:
      - in: query
        name: page
        description: Trang
        schema:
          type: number
        example: 1
      - in: query
        name: limit
        description: Giới hạn số document trả về
        schema:
          type: number
        example: 12
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.pagination.User'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /users/{id}:
    get:
      tags:
      - Quản lý người dùng
      summary: Sử dụng để lấy người dùng
      description: |
        Lấy người dùng theo ID người dùng cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID người dùng
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634e8609071be9c0c9f52ca7
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.User'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    
    put:
      tags:
      - Quản lý người dùng
      summary: Sử dụng để sửa thông tin người dùng
      description: |
        Sửa thông tin người dùng theo ID người dùng cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID người dùng
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634e8609071be9c0c9f52ca7
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/admin.form.User'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/admin.form.User'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/admin.Category'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
    delete:
      tags:
      - Quản lý người dùng
      summary: Sử dụng để xóa người dùng
      description: |
        Xóa người dùng theo ID người dùng cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID người dùng
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634e8609071be9c0c9f52ca7
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  
  /users/{id}/resetpassword:
    put:
      tags:
      - Quản lý người dùng
      summary: Sử dụng để sửa thông tin người dùng
      description: |
        Sửa thông tin người dùng theo ID người dùng cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID người dùng
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634e8609071be9c0c9f52ca7
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /auth/signup:
    post:
      tags:
      - Tài khoản
      summary: Sử dụng để đăng ký tài khoản mới
      description: |
        Khách hàng đăng ký tài khoản mới, chỉ sử dụng cho phân hệ khách hàng.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/form.SignUp'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/form.SignUp'
      responses:
        201:
          description: OK
          content:
            application/json:
              schema:
                allOf:
                - $ref: '#/components/schemas/Message'
                - type: object
                  properties:
                    user:
                      $ref: '#/components/schemas/client.User'
        400:
          description: Lỗi
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /auth/signin:
    post:
      tags:
      - Tài khoản
      summary: Sử dụng để đăng nhập tài khoản
      description: |
        Người dùng đăng nhập vào website.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/form.SignIn'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/form.SignIn'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
                    description: Token
                    example: eyJhbGciOiJIUzI1NiJ9.eyJwYXNzd29yZCI6IjEyMzRhYmNkIiwidXNlcm5hbWUiOiJhbkBnbWFpbC5leGFtcGxlLmNvbSJ9.nleb-JJz9Di9dL89Ja6PVrjjU-yy3Av95guc2nAtQhM
                  user:
                    $ref: '#/components/schemas/client.User'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  
  /auth/signout:
    post:
      tags:
      - Tài khoản
      summary: Sử dụng để đăng xuất tài khoản
      description: |
        Người dùng đăng xuất tài khoản.
      security: 
      - BearerAuth: []
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /auth/verifyaccount:
    post:
      tags:
      - Tài khoản
      summary: Sử dụng để xác thực tài khoản
      description: |
        Người dùng xác thực tài khoản bằng mật khẩu.
      security: 
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/form.VerifyAccount'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/form.VerifyAccount'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /auth/profile:
    get:
      tags:
      - Tài khoản
      summary: Sử dụng để lấy thông tin tài khoản
      description: |
        Người dùng truy xuất thông tin tài khoản của mình.
      security: 
      - BearerAuth: []
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.User'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      tags:
      - Tài khoản
      summary: Sử dụng để cập nhật thông tin tài khoản
      description: |
        Người dùng truy xuất thông tin tài khoản của mình.
      security: 
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/form.Profile'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/form.Profile'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                allOf:
                - $ref: '#/components/schemas/Message'
                - type: object
                  properties:
                    user:
                      $ref: '#/components/schemas/client.User'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /auth/uploadavatar:
    put:
      tags:
      - Tài khoản
      summary: Sử dụng để thay đổi ảnh đại diện
      description: |
        Người dùng thay đổi ảnh đại diện.
      security: 
      - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                avatar:
                  type: string
                  format: binary
                  description: File ảnh đại diện
                  example: example.png
              required: 
              - avatar
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                allOf:
                - $ref: '#/components/schemas/Message'
                - type: object
                  properties:
                    avatar: 
                      type: string
                      format: link
                      description: Link hình ảnh đại diện
                      example: https://example.com/example.png
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  
  /auth/changepassword:
    put:
      tags:
      - Tài khoản
      summary: Sử dụng để thay đổi mật khẩu
      description: |
        Người dùng thay đổi mật khẩu.
      security: 
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/form.ChangePassword'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/form.ChangePassword'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /category:
    get:
      tags:
      - Sản phẩm
      summary: Sử dụng để lấy danh sách danh mục
      description: |
        Lấy danh sách danh mục theo dạng cây.
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.Category'
        400:
          description: Lỗi
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error' 
                
  /book:
    get:
      tags:
      - Sản phẩm
      summary: Sử dụng để lấy danh sách sách theo danh mục
      description: |
        Lấy danh sách sách theo ID danh mục cho trước.
      parameters:
      - in: query
        name: category
        description: ID danh mục
        schema:
          type: string
          format: ObjectId
        example: 634d8da516d1688abe54d4ef
      - in: query
        name: page
        description: Trang (mặc định 1)
        schema:
          type: number
        example: 1
      - in: query
        name: limit
        description: Giới hạn số document trả về (mặc định 12)
        schema:
          type: number
        example: 12
      - in: query
        name: sort
        description: Sắp xếp (mặc định "popular")
        schema:
          type: string
          enum:
          - popular
          - best-seller
          - newest
          - low-to-high
          - high-to-low
        example: popular
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.pagination.Book'
        400:
          description: Lỗi
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /book/{id}:
    get:
      tags:
      - Sản phẩm
      summary: Sử dụng để lấy sách
      description: |
        Lấy sách theo ID sách cho trước.
      parameters:
      - in: path
        name: id
        description: ID sách
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634ed8e4f6a3a7266d99276d
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.Book'
        400:
          description: Lỗi
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /comment/{book}:
    get:
      tags:
      - Bình luận
      summary: Sử dụng để lấy danh sách bình luận
      description: |
        Lấy danh sách bình luận theo ID sách cho trước.
      parameters:
      - in: path
        name: book
        description: ID sách
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634ed8e4f6a3a7266d99261e
      - in: query
        name: page
        description: Trang (mặc định 1)
        schema:
          type: number
        example: 1
      - in: query
        name: limit
        description: Giới hạn số document trả về (mặc định 12)
        schema:
          type: number
        example: 12
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.pagination.Comment'
        400:
          description: Lỗi
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /cart:
    get:
      tags:
      - Quản lý giỏ hàng
      summary: Sử dụng để lấy giỏ hàng
      description: |
        Lấy giỏ hàng.
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.Cart'
        400:
          description: Lỗi
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /cart/selectall:
    put:
      tags:
      - Quản lý giỏ hàng
      summary: Sử dụng để chọn/bỏ chọn mua tất cả sách trong giỏ hàng
      description: |
        Chọn/bỏ chọn mua tất cả sách trong giỏ hàng.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/client.form.SelectAllCart'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/client.form.SelectAllCart'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.Cart'
        400:
          description: Lỗi
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /cart/{book}:
    post:
      tags:
      - Quản lý giỏ hàng
      summary: Sử dụng để thêm sách vào giỏ hàng
      description: |
        Thêm sách vào giỏ hàng theo ID sách cho trước.
      parameters:
      - in: path
        name: book
        description: ID sách
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634ed8e4f6a3a7266d99276d
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.Cart'
        400:
          description: Lỗi
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
    put:
      tags:
      - Quản lý giỏ hàng
      summary: Sử dụng để chọn/bỏ chọn và thay đổi số lượng mua trong giỏ hàng
      description: |
        Chọn/bỏ chọn và thay đổi số lượng mua trong giỏ hàng theo ID sách cho trước.
      parameters:
      - in: path
        name: book
        description: ID sách
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634ed8e4f6a3a7266d99276d
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/client.form.Cart'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/client.form.Cart'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.Cart'
        400:
          description: Lỗi
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
    delete:
      tags:
      - Quản lý giỏ hàng
      summary: Sử dụng để xóa sách khỏi giỏ hàng
      description: |
        Xóa sách khỏi giỏ hàng theo ID sách cho trước.
      parameters:
      - in: path
        name: book
        description: ID sách
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634ed8e4f6a3a7266d99261e
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.Cart'
        400:
          description: Lỗi
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /cart/checkout:
    post:
      tags:
      - Quản lý giỏ hàng
      summary: Sử dụng để thanh toán
      description: |
        Thanh toán sách đã chọn trong giỏ hàng.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/client.form.Checkout'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/client.form.Checkout'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.Order'
        400:
          description: Lỗi
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /order:
    get:
      tags:
      - Quản lý đơn hàng
      summary: Sử dụng để lấy danh sách đơn hàng (lịch sử mua hàng)
      description: |
        Lấy danh sách đơn hàng (lịch sử mua hàng).
      security: 
      - BearerAuth: []
      parameters:
      - in: query
        name: page
        description: Trang
        schema:
          type: number
        example: 1
      - in: query
        name: limit
        description: Giới hạn số document trả về
        schema:
          type: number
        example: 12
      - in: query
        name: status
        description: Trạng thái đơn hàng
        schema:
          type: string
          enum: 
          - not_processed
          - processing
          - shipping
          - completed
          - canceled
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.pagination.Order'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /order/{id}:
    get:
      tags:
      - Quản lý đơn hàng
      summary: Sử dụng để lấy đơn hàng
      description: |
        Lấy đơn hàng theo ID đơn hàng cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID danh mục
        schema:
          type: string
          format: ObjectId
        required: true
        example: 6390023e68b6bce81199e74d
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.Order'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /address:
    get:
      tags:
      - Quản lý địa chỉ
      summary: Sử dụng để lấy danh sách địa chỉ giao hàng
      description: |
        Lấy danh sách địa chỉ giao hàng.
      security: 
      - BearerAuth: []
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.array.Address'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    post:
      tags:
      - Quản lý địa chỉ
      summary: Sử dụng để thêm địa chỉ giao hàng mới
      description: |
        Thêm địa chỉ giao hàng mới.
      security: 
      - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/client.form.Address'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/client.form.Address'
      responses:
        201:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.array.Address'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /address/{id}:
    get:
      tags:
      - Quản lý địa chỉ
      summary: Sử dụng để lấy địa chỉ giao hàng
      description: |
        Lấy địa chỉ giao hàng theo ID địa chỉ cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID danh mục
        schema:
          type: string
          format: ObjectId
        required: true
        example: 6390023e68b6bce81199e74d
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.Address'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    
    put:
      tags:
      - Quản lý địa chỉ
      summary: Sử dụng để sửa thông tin địa chỉ giao hàng
      description: |
        Sửa thông tin địa chỉ giao hàng theo ID địa chỉ cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID danh mục
        schema:
          type: string
          format: ObjectId
        required: true
        example: 6390023e68b6bce81199e74d
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/client.form.Address'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/client.form.Address'
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.Address'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
    delete:
      tags:
      - Quản lý địa chỉ
      summary: Sử dụng để xóa địa chỉ giao hàng
      description: |
        Xóa địa chỉ theo ID địa chỉ cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: id
        description: ID danh mục
        schema:
          type: string
          format: ObjectId
        required: true
        example: 6390023e68b6bce81199e74d
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.array.Address'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /favorite:
    get:
      tags:
      - Quản lý sách yêu thích
      summary: Sử dụng để lấy danh sách sách yêu thích
      description: |
        Lấy danh sách sách yêu thích.
      security: 
      - BearerAuth: []
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.array.BookLite'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /favorite/{book}:
    post:
      tags:
      - Quản lý sách yêu thích
      summary: Sử dụng để thêm sách yêu thích
      description: |
        Thêm sách yêu thích theo ID sách cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: book
        description: ID sách
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634ed8e4f6a3a7266d99261e
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
    delete:
      tags:
      - Quản lý sách yêu thích
      summary: Sử dụng để xóa sách yêu thích
      description: |
        Xóa sách yêu thích theo ID sách cho trước.
      security: 
      - BearerAuth: []
      parameters:
      - in: path
        name: book
        description: ID sách
        schema:
          type: string
          format: ObjectId
        required: true
        example: 634ed8e4f6a3a7266d99261e
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/client.array.BookLite'
        400:
          description: Lỗi request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        401:
          description: Không xác thực được tài khoản
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        403:
          description: Không cho phép truy cập
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      
  schemas:
    Message:
      type: object
      properties:
        message:
          type: string
          description: Thông báo
          example: Success
        
    Error:
      allOf:
      - $ref: '#/components/schemas/Message'
      - example:
          message: Error
          
    Pagination:
      type: object
      properties:
        totalDocs:
          type: number
          description: Tổng số document
          example: 100
        limit:
          type: number
          description: Giới hạn số document trả về
          example: 12
        totalPages:
          type: number
          description: Tổng số trang
          example: 9
        page:
          type: number
          description: Trang hiện tại
          example: 2
        pagingCounter:
          type: number
          description: Index của document đầu tiên trong trang hiện tại
          example: 13
        hasPrevPage:
          type: boolean
          description: Có trang trước không
          example: true
        hasNextPage:
          type: boolean
          description: Có trang sau không
          example: true
        prevPage:
          type: number
          description: Trang trước, nếu không có trả null
          example: 1
        nextPage:
          type: number
          description: Trang sau, nếu không có trả null
          example: 3
          
    admin.Category:
      type: object
      properties:
        _id:
          type: string
          format: ObjectId
          description: ID danh mục
          example: 634d8da516d1688abe54d4ef
        name:
          type: string
          description: Tên danh mục
          example: Light novel
        slug:
          type: string
          description: Slug danh mục
          example: light-novel
        parent:
          type: object
          properties:
            _id: 
              type: string
              format: ObjectId
              description: ID danh mục cha
              example: 634d8da216d1688abe54d40c
            name:
              type: string
              description: Tên danh mục cha
              example: Văn học
        createdDate:
          type: string
          format: date
          description: Ngày khởi tạo
          example: 2022-11-01
        updatedDate:
          type: string
          format: date
          description: Ngày cập nhật
          example: 2022-11-02
    
    admin.Book:
      type: object
      properties:
        _id:
          type: string
          format: ObjectId
          description: ID sách
          example: 634ed8e4f6a3a7266d99276d
        name:
          type: string
          description: Tên sách
          example: Thiên Sứ Nhà Bên – Tập 3
        description:
          type: string
          description: Mô tả
          example: |
            “Mọi người đều thân thiết với Amane, chỉ có tôi như bị cho ra rìa vậy đó.” \nMahiru và Amane đã lên lớp 11, họ trở thành bạn cùng lớp với nhau! Trái với Mahiru luôn cố gắng thu hẹp khoảng cách kể cả khi ở trường, Amane vẫn giữ ý với “thiên sứ” và không tiến thêm một bước nào. \nNhờ có Chitose mà Mahiru dần xóa bỏ bức tường ngăn cách với các bạn cùng lớp, trong khi Amane lại nhớ đến vết thương cũ vừa lành trong\nĐây là câu chuyện tình ngọt ngào với cô gái nhà bên tuy lạnh lùng nhưng thật đáng yêu đã được ủng hộ nhiệt tình trên trang Shousetsuka ni Narou.\n* THIÊN SỨ NHÀ BÊN được xem là cú hit của dòng Light Novel rom-com tại thị trường Nhật Bản, với nội dung hài hước - lãng mạn rất được yêu thích. Tác phẩm nằm top 10 Kono Light novel ga Sugoi năm 2021, đã bán ra hơn 400.000 bản chỉ với 4 tập truyện riêng tại Nhật Bản.\nSố tập: 5+ (on-going)\nThiên Sứ Nhà Bên – Tập 3 – Phiên bản tặng kèm Bookmark\n---Một ấn phẩm của WINGS BOOKS - Thương hiệu sách trẻ của NXB Kim Đồng.Giá sản phẩm trên ToiMuaSach đã bao gồm thuế theo luật hiện hành. Bên cạnh đó, tuỳ vào loại sản phẩm, hình thức và địa chỉ giao hàng mà có thể phát sinh thêm chi phí khác như phí vận chuyển, phụ phí hàng cồng kềnh, thuế nhập khẩu (đối với đơn hàng giao từ nước ngoài có giá trị trên 1 triệu đồng).....
        slug:
          type: string
          description: Slug sách
          example: thien-su-nha-ben-tap-3
        authors:
          type: string
          description: Các tác giả
          example: Saekisan, Hanekoto
        translators:
          type: string
          description: Các dịch giả
          example: Trân Trân
        sku:
          type: string
          format: number
          description: Mã kho hàng
          example: 8935244872972
        isbn13:
          type: string
          format: isbn13
          description: Mã ISBN 13
          example: 978-0134494166
        isbn10:
          type: string
          format: isbn10
          description: Mã ISBN 10
          example: 0134494164
        supplier:
          type: string
          description: Nhà cung cấp/nhà phát hành
          example: Nhà Xuất Bản Kim Đồng
        publisher:
          type: string
          description: Nhà xuất bản
          example: NXB Kim Đồng
        publisherDate:
          type: string
          format: date
          description: Ngày xuất bản
          example: '2022-04-30'
        images:
          type: array
          items:
            type: string
            format: link
            description: Link hình ảnh sách
            example: https://salt.tikicdn.com/ts/product/01/93/08/61e928ce145c06a11a483ed49d826da2.jpg
          description: Các link hình ảnh sách
        weight:
          type: number
          description: Trọng lượng (gram)
          example: 350
        height:
          type: number
          description: Chiều cao (cm)
          example: 19
        width:
          type: number
          description: Chiều rộng (cm)
          example: 13
        page:
          type: number
          description: Số trang
          example: 316
        bookCover:
          type: string
          description: Loại bìa
          example: Bìa mềm
        status:
          type: string
          enum: 
          - coming_soon
          - available
          - out_of_stock
          description: Trạng thái sách
          example: available
        expectedDate:
          type: string
          format: date
          description: Ngày dự kiến có hàng
          example: '2022-04-30'
        countInStock:
          type: number
          description: Tồn kho
          example: 100
        sold:
          type: number
          description: Đã bán
          example: 10
        originalPrice:
          type: number
          description: Giá bìa
          example: 95000
        discountRate:
          type: number
          description: Giảm giá (%)
          example: 25
        price:
          type: number
          description: Giá hiện tại
          example: 72000
        category:
          type: object
          properties:
            _id:
              type: string
              format: ObjectId
              description: ID danh mục
              example: 634d8da516d1688abe54d4ef
            name:
              type: string
              description: Tên danh mục
              example: Light novel
          
    admin.Role:
      type: object
      properties:
        _id:
          type: string
          format: ObjectId
          description: ID vai trò
          example: 638c76f64700d09a7fde9be3
        name:
          type: string
          description: Tên vai trò
          example: admin
        description:
          type: string
          description: Mô tả
          example: Người quản trị
        permissions:
          type: array
          items:
            type: string
            description: ID quyền
            example: 638c7606e13b091e37dd84d3
        createdDate:
          type: string
          format: date
          description: Ngày khởi tạo
          example: 2022-11-01
        updatedDate:
          type: string
          format: date
          description: Ngày cập nhật
          example: 2022-11-02
          
    admin.Permission:
      type: object
      properties:
        _id:
          type: string
          format: ObjectId
          description: ID vai trò
          example: 638c7606e13b091e37dd84d3
        name:
          type: string
          description: Tên
          example: Quyền truy cập tất cả
        description:
          type: string
          description: Mô tả
          example: Có thể toàn quyền truy cập tất cả
        subject:
          type: string
          description: Đối tượng
          example: all
        action:
          type: string
          description: Hành động
          example: all

    admin.User:
      type: object
      properties:
        _id:
          type: string
          description: ID người dùng
          example: 634e8609071be9c0c9f52ca7
        firstName:
          type: string
          description: Tên người dùng
          example: An
        lastName:
          type: string
          description: Họ người dùng
          example: Nguyễn Văn
        fullName:
          type: string
          description: Họ tên đầy đủ
          example: Nguyễn Văn An
        email:
          type: string
          format: email
          description: Email
          example: an@gmail.example.com
        phone:
          type: string
          format: phoneNumber
          description: Số điện thoại
          example: '0987654321'
        sex:
          type: boolean
          description: Giới tính
          example: true
        birthday:
          type: string
          format: date
          description: Ngày sinh
          example: 2001-01-01
        avatar:
          type: string
          format: link
          description: Link hình ảnh
          example: https://ui-avatars.com/api/?name=An&background=random&color=random&length=1&size=96
        roles:
          type: array
          items:
            type: object
            properties:
              _id:
                type: string
                format: ObjectId
                description: ID vai trò
                example: 638c76f64700d09a7fde9be3
              name:
                type: string
                description: Tên vai trò
                example: admin
        lastSession:
          type: string
          format: date
          description: Lần đăng nhập gần nhất
          example: 2022-11-10
        createdDate:
          type: string
          format: date
          description: Ngày khởi tạo
          example: 2022-11-01
        updatedDate:
          type: string
          format: date
          description: Ngày cập nhật
          example: 2022-11-02
          
    admin.Order:
      type: object
      properties:
        _id:
          type: string
          format: ObjectId
          example: 637cc21ce94542c1056e6c68
        shippingInfo:
          $ref: '#/components/schemas/client.ShippingInfo'
        orderCode:
          type: string
          description: Mã đơn hàng
          example: '20230102674581'
        shippingCode:
          type: string
          description: Mã vận chuyển
          example: null
        shippingMethod:
          type: string
          description: Phương thức vận chuyển
          example: Giao hàng tiêu chuẩn
        paymentMethod:
          type: string
          description: Phương thức thanh toán
          example: Trả tiền khi giao hàng
        items:
          type: array
          items:
            $ref: '#/components/schemas/client.OrderItem'
        status:
          type: string
          description: Trạng thái đơn hàng
          example: not_processed
        transportFee:
          type: number
          description: Phí vận chuyển
          example: 20000
        discount:
          type: number
          description: Giảm giá
          example: 15000
        total:
          type: number
          description: Tổng giá tiền
          example: 77000
        purchaseDate:
          type: string
          format: date
          description: Ngày mua hàng
          example: 2023-01-02
        createdAt:
          type: string
          format: date
          description: Ngày tạo đơn hàng
          example: 2023-01-02
        updatedDate:
          type: string
          format: date
          description: Ngày cập nhật
          example: 2023-01-02
      
    admin.form.Category:
      type: object
      properties:
        name:
          type: string
          description: Tên danh mục
          example: Light novel
        parent:
          type: string
          format: ObjectId
          description: ID danh mục cha
          example: 634d8da216d1688abe54d40c
      required:
      - name
      
    admin.form.Book:
      type: object
      properties:
        name:
          type: string
          description: Tên sách
          example: Thiên Sứ Nhà Bên – Tập 3
        description:
          type: string
          description: Mô tả
          example: |
            “Mọi người đều thân thiết với Amane, chỉ có tôi như bị cho ra rìa vậy đó.” \nMahiru và Amane đã lên lớp 11, họ trở thành bạn cùng lớp với nhau! Trái với Mahiru luôn cố gắng thu hẹp khoảng cách kể cả khi ở trường, Amane vẫn giữ ý với “thiên sứ” và không tiến thêm một bước nào. \nNhờ có Chitose mà Mahiru dần xóa bỏ bức tường ngăn cách với các bạn cùng lớp, trong khi Amane lại nhớ đến vết thương cũ vừa lành trong\nĐây là câu chuyện tình ngọt ngào với cô gái nhà bên tuy lạnh lùng nhưng thật đáng yêu đã được ủng hộ nhiệt tình trên trang Shousetsuka ni Narou.\n* THIÊN SỨ NHÀ BÊN được xem là cú hit của dòng Light Novel rom-com tại thị trường Nhật Bản, với nội dung hài hước - lãng mạn rất được yêu thích. Tác phẩm nằm top 10 Kono Light novel ga Sugoi năm 2021, đã bán ra hơn 400.000 bản chỉ với 4 tập truyện riêng tại Nhật Bản.\nSố tập: 5+ (on-going)\nThiên Sứ Nhà Bên – Tập 3 – Phiên bản tặng kèm Bookmark\n---Một ấn phẩm của WINGS BOOKS - Thương hiệu sách trẻ của NXB Kim Đồng.Giá sản phẩm trên ToiMuaSach đã bao gồm thuế theo luật hiện hành. Bên cạnh đó, tuỳ vào loại sản phẩm, hình thức và địa chỉ giao hàng mà có thể phát sinh thêm chi phí khác như phí vận chuyển, phụ phí hàng cồng kềnh, thuế nhập khẩu (đối với đơn hàng giao từ nước ngoài có giá trị trên 1 triệu đồng).....
        authors:
          type: string
          description: Các tác giả
          example: Saekisan, Hanekoto
        translators:
          type: string
          description: Các dịch giả
          example: Trân Trân
        sku:
          type: string
          format: number
          description: Mã kho hàng
          example: 8935244872972
        isbn13:
          type: string
          format: isbn13
          description: Mã ISBN 13
          example: 978-0134494166
        isbn10:
          type: string
          format: isbn10
          description: Mã ISBN 10
          example: 0134494164
        supplier:
          type: string
          description: Nhà cung cấp/nhà phát hành
          example: Nhà Xuất Bản Kim Đồng
        publisher:
          type: string
          description: Nhà xuất bản
          example: NXB Kim Đồng
        publisherDate:
          type: string
          format: date
          description: Ngày xuất bản
          example: '2022-04-30'
        images:
          type: array
          items:
            type: string
            format: link
            description: Link hình ảnh sách
            example: https://salt.tikicdn.com/ts/product/01/93/08/61e928ce145c06a11a483ed49d826da2.jpg
          description: Các link hình ảnh sách
        weight:
          type: number
          description: Trọng lượng (gram)
          example: 350
        height:
          type: number
          description: Chiều cao (cm)
          example: 19
        width:
          type: number
          description: Chiều rộng (cm)
          example: 13
        page:
          type: number
          description: Số trang
          example: 316
        bookCover:
          type: string
          description: Loại bìa
          example: Bìa mềm
        status:
          type: string
          enum: 
          - coming_soon
          - available
          - out_of_stock
          description: Trạng thái sách
          example: available
        expectedDate:
          type: string
          format: date
          description: Ngày dự kiến có hàng
          example: '2022-04-30'
        countInStock:
          type: number
          description: Tồn kho
          example: 100
        originalPrice:
          type: number
          description: Giá bìa
          example: 95000
        discountRate:
          type: number
          description: Giảm giá (%)
          example: 25
        category:
          type: string
          format: ObjectId
          description: ID danh mục cha
          example: 634d8da516d1688abe54d4ef
      required:
      - name
      - category
  
    admin.form.Role:
      type: object
      properties:
        name:
          type: string
          description: Tên vai trò
          example: admin
        description:
          type: string
          description: Mô tả
          example: Người quản trị
        permissions:
          type: array
          items:
            type: string
            format: ObjectId
            description: ID quyền truy cập
            example: 638c7606e13b091e37dd84d3
          description: Danh sách ID quyền truy cập
      required:
      - name
      
    admin.form.User:
      type: object
      properties:
        firstName:
          type: string
          description: Tên người dùng
          example: An
        lastName:
          type: string
          description: Họ người dùng
          example: Nguyễn Văn
        email:
          type: string
          format: email
          description: Email
          example: an@gmail.example.com
        phone:
          type: string
          format: phoneNumber
          description: Số điện thoại
          example: '0987654321'
        sex:
          type: boolean
          description: Giới tính
          example: true
        birthday:
          type: string
          format: date
          description: Ngày sinh
          example: 2001-01-01
        roles:
          type: array
          items:
            type: string
            format: ObjectId
            description: ID vai trò
            example: 638c76f64700d09a7fde9be3
          description: Danh sách vai trò
      required:
      - firstName
      - lastName
      - email
      - phone
      
    admin.form.Order:
      type: object
      properties:
        fullName:
          type: string
          description: Họ tên người nhận
          example: Nguyễn Văn An
        phone:
          type: string
          description: Số điên thoại người nhận
          example: '0987654321'
        region:
          type: string
          description: Tỉnh/Thành phố
          example: Lâm Đồng
        district:
          type: string
          description: Quận/Huyện
          example: TP. Đà Lạt
        ward:
          type: string
          description: Phường/Xã
          example: Phường 8
        address:
          type: string
          description: Địa chỉ chi tiết (đường, tổ dân phố, ...)
          example: 17 Phù Đổng Thiên Vương
        shippingMethod:
          type: string
          description: Phương thức vận chuyển
          example: Giao hàng tiêu chuẩn
        paymentMethod:
          type: string
          description: Phương thức thanh toán
          example: Trả tiền khi giao hàng
        items:
          type: array
          items:
            type: object
            properties:
              bookId:
                type: string
                format: ObjectId
                description: ID sách
                example: 634ed8e4f6a3a7266d99276d
              originalPrice:
                type: number
                description: Giá bìa
                example: 95000
              discountRate:
                type: number
                description: Giảm giá (%)
                example: 25
              quantity:
                type: number
                description: Số lượng mua
                example: 1
        transportFee:
          type: number
          description: Phí vận chuyển
          example: 20000
        discount:
          type: number
          description: Giảm giá
          example: 15000
      required: 
      - fullName
      - phone
      - region
      - district
      - ward
      - shippingMethod
      - paymentMethod
      - transportFee
      - discount
      
    admin.pagination.Category:
      allOf:
      - type: object
        properties:
          docs:
            type: array
            items:
              $ref: '#/components/schemas/admin.Category'
            description: Mảng document
      - $ref: '#/components/schemas/Pagination'
          
    admin.pagination.Book:
      allOf:
      - type: object
        properties:
          docs:
            type: array
            items:
              $ref: '#/components/schemas/admin.Book'
            description: Mảng document
      - $ref: '#/components/schemas/Pagination'
      
    admin.pagination.Role:
      allOf:
      - type: object
        properties:
          docs:
            type: array
            items:
              $ref: '#/components/schemas/admin.Role'
            description: Mảng document
      - $ref: '#/components/schemas/Pagination'
      
    admin.pagination.Permission:
      allOf:
      - type: object
        properties:
          docs:
            type: array
            items:
              $ref: '#/components/schemas/admin.Permission'
            description: Mảng document
      - $ref: '#/components/schemas/Pagination'
      
    admin.pagination.User:
      allOf:
      - type: object
        properties:
          docs:
            type: array
            items:
              $ref: '#/components/schemas/admin.User'
            description: Mảng document
      - $ref: '#/components/schemas/Pagination'
      
    admin.pagination.Order:
      allOf:
      - type: object
        properties:
          docs:
            type: array
            items:
              $ref: '#/components/schemas/admin.Order'
            description: Mảng document
      - $ref: '#/components/schemas/Pagination'
      
    form.SignUp:
      type: object
      properties:
        firstName:
          type: string
          description: Tên người dùng
          example: An
        lastName:
          type: string
          description: Họ người dùng
          example: Nguyễn Văn
        email:
          type: string
          format: email
          description: Email
          example: an@gmail.example.com
        phone:
          type: string
          format: phoneNumber
          description: Số điện thoại
          example: '0987654321'
        password:
          type: string
          description: Mật khẩu (dài ít nhất 8 ký tự, có cả chữ và số)
          example: 1234abcd
      required:
      - firstName
      - lastName
      - email
      - phone
      - password
      
    form.SignIn:
      type: object
      properties:
        username:
          type: string
          description: Tên đăng nhập (sử dụng email hoặc số điện thoại)
          example: an@gmail.example.com
        password:
          type: string
          description: Mật khẩu
          example:  1234abcd
        isAdmin:
          type: boolean
          description: Đăng nhập với tư cách quản trị (yêu cầu mặc định `true` khi đăng nhập bên quản trị, trường này không có bên khách hàng)
          example: false
      required: 
      - username
      - password
      
    form.Profile:
      type: object
      properties:
        firstName:
          type: string
          description: Tên người dùng
          example: An
        lastName:
          type: string
          description: Họ người dùng
          example: Nguyễn Văn
        email:
          type: string
          format: email
          description: Email
          example: an@gmail.example.com
        phone:
          type: string
          format: phoneNumber
          description: Số điện thoại
          example: '0987654321'
        sex:
          type: boolean
          description: Giới tính
          example: true
        birthday:
          type: string
          format: date
          description: Ngày sinh
          example: 2001-01-01
      required:
      - firstName
      - lastName
      - email
      - phone
              
    form.ChangePassword:
      type: object
      properties:
        currentPassword:
          type: string
          description: Mật khẩu hiện tại
          example: 1234abcd
        newPassword:
          type: string
          description: Mật khẩu mới
          example: abcd1234
      required: 
      - currentPassword
      - newPassword
              
    form.VerifyAccount:
      type: object
      properties:
        password:
          type: string
          description: Mật khẩu
          example: 1234abcd
      required: 
      - password
      
    form.UploadImages:
      type: object
      properties:
        images:
          type: array
          items:
            type: string
            format: binary
          description: File hình ảnh
      required: 
      - images
      
    form.DestroyImages:
      type: object
      properties:
        images:
          type: array
          items:
            type: string
            format: link
          description: |
            Link hình ảnh. Lưu ý: nếu chỉ có một hình ảnh có thể truyền string, không cần truyền mảng
          example:
          - https://example.com/example1.png
          - https://example.com/example2.png
      required: 
      - images
    
    client.Category:
      type: object
      properties:
        _id:
          type: string
          format: ObjectId
          description: ID danh mục
          example: 634d8da216d1688abe54d40c
        name:
          type: string
          description: Tên danh mục
          example: Văn học
        slug:
          type: string
          description: Slug danh mục
          example: van-hoc
        children:
          type: array
          items:
            $ref: '#/components/schemas/client.Category'
          description: Mảng danh mục con
          example: 
          - _id: 634d8da516d1688abe54d4ef
            name: Light novel
            slug: light-novel
            children: []
            
    client.Book:
      type: object
      properties:
        _id:
          type: string
          format: ObjectId
          description: ID sách
          example: 634ed8e4f6a3a7266d99276d
        name:
          type: string
          description: Tên sách
          example: Thiên Sứ Nhà Bên – Tập 3
        shortDes:
          type: string
          description: Mô tả ngắn
          example: |
            “Mọi người đều thân thiết với Amane, chỉ có tôi như bị cho ra rìa vậy đó.” Mahiru và Amane đã lên lớp 11, họ trở thành bạn cùng lớp với nhau! Trái với Mahiru luôn cố gắng thu hẹp khoảng cách kể cả kh...
        description:
          type: string
          description: Mô tả
          example: |
            “Mọi người đều thân thiết với Amane, chỉ có tôi như bị cho ra rìa vậy đó.” \nMahiru và Amane đã lên lớp 11, họ trở thành bạn cùng lớp với nhau! Trái với Mahiru luôn cố gắng thu hẹp khoảng cách kể cả khi ở trường, Amane vẫn giữ ý với “thiên sứ” và không tiến thêm một bước nào. \nNhờ có Chitose mà Mahiru dần xóa bỏ bức tường ngăn cách với các bạn cùng lớp, trong khi Amane lại nhớ đến vết thương cũ vừa lành trong\nĐây là câu chuyện tình ngọt ngào với cô gái nhà bên tuy lạnh lùng nhưng thật đáng yêu đã được ủng hộ nhiệt tình trên trang Shousetsuka ni Narou.\n* THIÊN SỨ NHÀ BÊN được xem là cú hit của dòng Light Novel rom-com tại thị trường Nhật Bản, với nội dung hài hước - lãng mạn rất được yêu thích. Tác phẩm nằm top 10 Kono Light novel ga Sugoi năm 2021, đã bán ra hơn 400.000 bản chỉ với 4 tập truyện riêng tại Nhật Bản.\nSố tập: 5+ (on-going)\nThiên Sứ Nhà Bên – Tập 3 – Phiên bản tặng kèm Bookmark\n---Một ấn phẩm của WINGS BOOKS - Thương hiệu sách trẻ của NXB Kim Đồng.Giá sản phẩm trên ToiMuaSach đã bao gồm thuế theo luật hiện hành. Bên cạnh đó, tuỳ vào loại sản phẩm, hình thức và địa chỉ giao hàng mà có thể phát sinh thêm chi phí khác như phí vận chuyển, phụ phí hàng cồng kềnh, thuế nhập khẩu (đối với đơn hàng giao từ nước ngoài có giá trị trên 1 triệu đồng).....
        slug:
          type: string
          description: Slug sách
          example: thien-su-nha-ben-tap-3
        authors:
          type: string
          description: Các tác giả
          example: Saekisan, Hanekoto
        translators:
          type: string
          description: Các dịch giả
          example: Trân Trân
        sku:
          type: string
          format: number
          description: Mã kho hàng
          example: 8935244872972
        isbn13:
          type: string
          format: isbn13
          description: Mã ISBN 13
          example: 978-0134494166
        isbn10:
          type: string
          format: isbn10
          description: Mã ISBN 10
          example: 0134494164
        supplier:
          type: string
          description: Nhà cung cấp/nhà phát hành
          example: Nhà Xuất Bản Kim Đồng
        publisher:
          type: string
          description: Nhà xuất bản
          example: NXB Kim Đồng
        publisherDate:
          type: string
          format: date
          description: Ngày xuất bản
          example: '2022-04-30'
        images:
          type: array
          items:
            type: string
            format: link
            description: Link hình ảnh sách
            example: https://salt.tikicdn.com/ts/product/01/93/08/61e928ce145c06a11a483ed49d826da2.jpg
          description: Các link hình ảnh sách
        weight:
          type: number
          description: Trọng lượng (gram)
          example: 350
        dimension:
          type: string
          description: Kích thước (cao x rộng (cm))
          example: '19 x 13 cm'
        page:
          type: number
          description: Số trang
          example: 316
        bookCover:
          type: string
          description: Loại bìa
          example: Bìa mềm
        status:
          type: string
          enum: 
          - coming_soon
          - available
          - out_of_stock
          description: Trạng thái sách
          example: available
        expectedDate:
          type: string
          format: date
          description: Ngày dự kiến có hàng
          example: '2022-04-30'
        countInStock:
          type: number
          description: Tồn kho
          example: 100
        sold:
          type: number
          description: Đã bán
          example: 10
        originalPrice:
          type: number
          description: Giá bìa
          example: 95000
        discountRate:
          type: number
          description: Giảm giá (%)
          example: 25
        price:
          type: number
          description: Giá hiện tại
          example: 72000
        numOfReviews:
          type: number
          description: Số lượt đánh giá
          example: 32
        rating:
          type: number
          description: Số sao đánh giá
          example: 4.8
        ratingRate:
          type: array
          items: 
            $ref: '#/components/schemas/RatingRate'
          description: |
            Tỷ lệ sao đánh giá (ghi chú: ratingRate[0] là 1 sao, ratingRate[4] là 5 sao)
          example: 
          - amount: 0
            rate: 0
          - amount: 0
            rate: 0
          - amount: 2
            rate: 6
          - amount: 10
            rate: 31
          - amount: 20
            rate: 63
            
    client.BookLite:
      type: object
      properties:
        _id:
          type: string
          format: ObjectId
          description: ID sách
          example: 634ed8e4f6a3a7266d99276d
        name:
          type: string
          description: Tên sách
          example: Thiên Sứ Nhà Bên – Tập 3
        images:
          type: array
          items:
            type: string
            format: link
            description: Link hình ảnh sách
            example: https://salt.tikicdn.com/ts/product/01/93/08/61e928ce145c06a11a483ed49d826da2.jpg
        originalPrice:
          type: number
          description: Giá bìa
          example: 95000
        discountRate:
          type: number
          description: Giảm giá (%)
          example: 25
        price:
          type: number
          description: Giá hiện tại
          example: 72000
            
    client.Comment:
      type: object
      properties:
        _id:
          type: string
          format: ObjectId
          description: ID sách
          example: 634f52bbab3c008e233fb1ec
        user:
          type: object
          properties:
            fullName:
              type: string
              description: Họ tên
              example: Hồng Ánh
            avatar:
              type: string
              format: link
              description: Ảnh đại diện
              example: https://ui-avatars.com/api/?name=Ánh&background=random&color=random&length=1&size=96
        rate:
          type: number
          description: Số sao đánh giá
          example: 5
        content:
          type: string
          description: Bình luận
          example: |
            CHU DU QUA TRANG SÁCH CÙNG ĐINH HẰNG\nLà một người yêu thích du lịch, mình thích xem những chia sẻ của các bạn travel blogger để được chu du qua thật nhiều vùng đất cùng các bạn. Mỗi bạn một bản sắc riêng, và Hằng là một travel blogger nữ mà mình thường để ở chế độ Xem đầu tiên. Cảm giác như thế nào nhỉ? Hâm mộ, khâm phục, và cả ước ao, giá như mình có thể đi nhiều nơi như bạn ấy. Chắc hẳn đó không phải là mơ ước của chỉ riêng mình. Với một travel blogger nữ, hẳn bạn cũng phải vượt qua nhiều khó khăn, trở ngại hơn là với nam giới để tiếp tục với đam mê của mình. Vậy nên, nỗ lực và đam mê của bạn là đáng khâm phục.\n\nLại nói về quyển sách \"Người tình Havana\", mình theo dõi trang cá nhân của Hằng cũng vừa đủ lâu, nhưng chưa kịp lâu để biết đến hai quyển sách trước của Hằng. Vậy nên khi Hằng thông báo đã xuất bản quyển sách này thì mình đặt mua ngay. Mình thích quyển sách này vì nhiều lẽ:\n- Mình cũng là một dịch giả (cũng có sách bán trên tiki từ nhiều năm trước), nên mình rất quan tâm đến nội dung sách và cách viết - thể hiện cá tính của người viết. Và mình hoàn toàn hài lòng. Sách được biên tập kỹ, chỉnh chu trong từng câu chữ. Hãy thử đọc qua một đoạn văn miêu tả sống động như vầy xem bạn có thích thú không nhé \"La Floridita trở nên nổi tiếng thế giới một phần nhờ sự \"bảo chứng\" của Ernest Hemingway, một khách hàng quen thuộc lui tới đây gần như mỗi ngày. Tại góc quen thuộc của Hemingway, người ta còn đặt hẳn một bức tượng bằng đồng tạc ông bằng kích cỡ người thật, khuỷu tay trái gác lên quầy trong lúc tay phải chống nạnh một cách thư thái, hướng vào quầy bar chất đống các loại chai lọ trên tủ gỗ màu đỏ\". Thật sinh động biết bao!\n- Được sống một cuộc đời khác, được chu du qua một đất nước Mỹ Latin hoàn toàn xa lạ và khác biệt - Cuba với cuộc sống thường nhật đầy những khó khăn nhưng vẫn luôn lạc quan yêu đời. Mình yêu đất nước Achentina với thần tượng Maradona và điệu nhảy Tango huyền thoại, và mình tìm thấy sự đồng cảm, vô vàn điều thú vị từ quyển sách này\n- Lý do thứ 3 trong vô vàn lý do đó chính vì tác giả của quyển sách. Ấp ủ một quyển sách qua rất nhiều năm trời, chắc hẳn Hằng đã có sự cân nhắc rất nhiều để giới thiệu Cuba trong vô vàn nơi mà Hằng đã đi qua, vì vậy nên quyển sách vừa hấp dẫn bởi địa điểm và những câu chuyện về con người nơi đó, vừa thú vị vì cách Hằng chia sẻ - rất đời và rất chạm, chạm đến niềm ước ao được làm một Guliver du ký - như Hằng đã và đang làm.
        images:
          type: array
          items:
            type: string
          description: Hình ảnh
          example:
          - https://salt.tikicdn.com/ts/review/79/67/a0/3aa834855d62f0c126d51a7248023250.jpg
          - https://salt.tikicdn.com/ts/review/7d/c9/4f/c4c7374569d77edb074b2114c6104761.jpg
          - https://salt.tikicdn.com/ts/review/b3/00/77/3e200edd38529edae01d8dfee45104af.jpg
        createdAt:
          type: string
          format: date
          description: Ngày tạo
          example: 2022-10-09
          
    client.User:
      type: object
      properties:
        _id:
          type: string
          description: ID người dùng
          example: 634e8609071be9c0c9f52ca7
        firstName:
          type: string
          description: Tên người dùng
          example: An
        lastName:
          type: string
          description: Họ người dùng
          example: Nguyễn Văn
        fullName:
          type: string
          description: Họ tên đầy đủ
          example: Nguyễn Văn An
        email:
          type: string
          format: email
          description: Email
          example: an@gmail.example.com
        phone:
          type: string
          format: phoneNumber
          description: Số điện thoại
          example: '0987654321'
        sex:
          type: boolean
          description: Giới tính
          example: true
        birthday:
          type: string
          format: date
          description: Ngày sinh
          example: 2001-01-01
        avatar:
          type: string
          format: link
          description: Link hình ảnh
          example: https://ui-avatars.com/api/?name=An&background=random&color=random&length=1&size=96
        lastSession:
          type: string
          format: date
          description: Lần đăng nhập gần nhất
          example: 2022-11-10
        roles:
          type: array
          items:
            type: string
            description: ID vai trò
            example: 638c76f64700d09a7fde9be3
          description: Danh sách vai trò được gán (chỉ người quản trị có)
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/admin.Permission'
          description: Danh sách quyền (chỉ người quản trị có)
          
    client.CartItem:
      type: object
      properties:
        book:
          $ref: '#/components/schemas/client.BookLite'
        selected:
          type: boolean
          description: Đánh dấu chọn mua
          example: false
        quantity:
          type: number
          description: Số lượng mua
          example: 1
        total:
          type: number
          description: Tổng giá tiền
          example: 72000
          
    client.Cart:
      type: object
      properties:
        _id:
          type: string
          format: ObjectId
          example: 637cc21ce94542c1056e6c68
        items:
          type: array
          items:
            $ref: '#/components/schemas/client.CartItem'
        total:
          type: number
          description: Tổng giá tiền
          example: 0
          
    client.ShippingInfo:
      type: object
      properties:
        fullName:
          type: string
          description: Họ tên người nhận
          example: Nguyễn Văn An
        phone:
          type: string
          description: Số điên thoại người nhận
          example: '0987654321'
        region:
          type: string
          description: Tỉnh/Thành phố
          example: Lâm Đồng
        district:
          type: string
          description: Quận/Huyện
          example: TP. Đà Lạt
        ward:
          type: string
          description: Phường/Xã
          example: Phường 8
        address:
          type: string
          description: Địa chỉ chi tiết (đường, tổ dân phố, ...)
          example: 17 Phù Đổng Thiên Vương
          
    client.OrderItem:
      type: object
      properties:
        book:
          $ref: '#/components/schemas/client.BookLite'
        quantity:
          type: number
          description: Số lượng mua
          example: 1
        total:
          type: number
          description: Tổng giá tiền
          example: 72000
          
    client.Order:
      type: object
      properties:
        _id:
          type: string
          format: ObjectId
          example: 637cc21ce94542c1056e6c68
        shippingInfo:
          $ref: '#/components/schemas/client.ShippingInfo'
        orderCode:
          type: string
          description: Mã đơn hàng
          example: '20230102674581'
        shippingCode:
          type: string
          description: Mã vận chuyển
          example: null
        shippingMethod:
          type: string
          description: Phương thức vận chuyển
          example: Giao hàng tiêu chuẩn
        paymentMethod:
          type: string
          description: Phương thức thanh toán
          example: Trả tiền khi giao hàng
        items:
          type: array
          items:
            $ref: '#/components/schemas/client.OrderItem'
        status:
          type: string
          description: Trạng thái đơn hàng
          example: not_processed
        transportFee:
          type: number
          description: Phí vận chuyển
          example: 20000
        discount:
          type: number
          description: Giảm giá
          example: 15000
        purchaseDate:
          type: string
          format: date
          description: Ngày mua hàng
          example: 2023-01-02
        createdAt:
          type: string
          format: date
          description: Ngày tạo đơn hàng
          example: 2023-01-02
        total:
          type: number
          description: Tổng giá tiền
          example: 77000
          
    client.Address:
      type: object
      properties:
        _id:
          type: string
          format: ObjectId
          example: 6390023e68b6bce81199e74d
        fullName:
          type: string
          description: Họ tên người nhận
          example: Nguyễn Văn An
        phone:
          type: string
          description: Số điên thoại người nhận
          example: '0987654321'
        region:
          type: string
          description: Tỉnh/Thành phố
          example: Lâm Đồng
        district:
          type: string
          description: Quận/Huyện
          example: TP. Đà Lạt
        ward:
          type: string
          description: Phường/Xã
          example: Phường 8
        address:
          type: string
          description: Địa chỉ chi tiết (đường, tổ dân phố, ...)
          example: 17 Phù Đổng Thiên Vương
          
    client.form.SelectAllCart:
      type: object
      properties:
        selected:
          type: boolean
          description: | 
            `true` chọn, `false` bỏ chọn tất cả
          example: true
      required:
      - selected
      
    client.form.Cart:
      type: object
      properties:
        selected:
          type: boolean
          description: | 
            `true` chọn, `false` bỏ chọn mua
          example: true
        quantity:
          type: number
          description: Số lượng mua
          example: 2
      
    client.form.Checkout:
      type: object
      properties:
        fullName:
          type: string
          description: Họ tên người nhận
          example: Nguyễn Văn An
        phone:
          type: string
          description: Số điên thoại người nhận
          example: '0987654321'
        region:
          type: string
          description: Tỉnh/Thành phố
          example: Lâm Đồng
        district:
          type: string
          description: Quận/Huyện
          example: TP. Đà Lạt
        ward:
          type: string
          description: Phường/Xã
          example: Phường 8
        address:
          type: string
          description: Địa chỉ chi tiết (đường, tổ dân phố, ...)
          example: 17 Phù Đổng Thiên Vương
        shippingMethod:
          type: string
          description: Phương thức vận chuyển
          example: Giao hàng tiêu chuẩn
        paymentMethod:
          type: string
          description: Phương thức thanh toán
          example: Trả tiền khi giao hàng
        transportFee:
          type: number
          description: Phí vận chuyển
          example: 20000
        discount:
          type: number
          description: Giảm giá
          example: 15000
      required: 
      - fullName
      - phone
      - region
      - district
      - ward
      - shippingMethod
      - paymentMethod
      - transportFee
      - discount
    
    client.form.Address:
      type: object
      properties:
        fullName:
          type: string
          description: Họ tên người nhận
          example: Nguyen Van A
        phone:
          type: string
          description: Số điên thoại người nhận
          example: 0987654321
        region:
          type: string
          description: Tỉnh/Thành phố
          example: Lâm Đồng
        district:
          type: string
          description: Quận/Huyện
          example: TP. Đà Lạt
        ward:
          type: string
          description: Phường/Xã
          example: Phường 8
        address:
          type: string
          description: Địa chỉ chi tiết (đường, tổ dân phố, ...)
          example: 17 Phù Đổng Thiên Vương
      required: 
      - fullName
      - phone
      - region
      - district
      - ward
    
    client.pagination.Book:
      allOf:
      - type: object
        properties:
          docs:
            type: array
            items:
              $ref: '#/components/schemas/client.Book'
            description: Mảng document
      - $ref: '#/components/schemas/Pagination'
          
    client.pagination.Comment:
      allOf:
      - type: object
        properties:
          docs:
            type: array
            items:
              $ref: '#/components/schemas/client.Comment'
            description: Mảng document
      - $ref: '#/components/schemas/Pagination'
          
    client.pagination.Order:
      allOf:
      - type: object
        properties:
          docs:
            type: array
            items:
              $ref: '#/components/schemas/client.Order'
            description: Mảng document
      - $ref: '#/components/schemas/Pagination'
      
    client.array.BookLite:
      type: array
      items:
        $ref: '#/components/schemas/client.BookLite'
        
    client.array.Address:
      type: array
      items:
        $ref: '#/components/schemas/client.Address'
          
    RatingRate:
      type: object
      properties:
        amount:
          type: number
          description: Số lượng đánh giá
          example: 5
        rate:
          type: number
          description: Tỷ lệ đánh giá (%)
          example: 33